<!DOCTYPE html>
<html>
<head>
	<title>Test</title>
	<style type="text/css">
		body {
			font-family: Helvetica, sans-serif;
		}
	</style>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		var svg = document.getElementById('graph');
		console.log(svg);

		// SOCKET.IO
		var socket = io.connect('http://localhost:3000');
		socket.on('measurement', function(data) {
			var circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
			circle.setAttribute("cx", (80 + data.time * 50));
			circle.setAttribute("cy", (data.msg * 5));
			circle.setAttribute("r", "3");
		});
	</script>

	<script type="text/javascript">
		// SVG
		window.onload = function() {
			var svg = document.getElementById('graph');
			console.log(svg);

			// y axis ticks
			var y = 30;
			for(var i = 0; i < 10; i++) {
				var line = document.createElementNS("http://www.w3.org/2000/svg", "line");
				line.setAttribute("x1", "26");
				line.setAttribute("y1", y);
				line.setAttribute("x2", "34");
				line.setAttribute("y2", y);
				line.setAttribute("stroke", "black");
				line.setAttribute("stroke-width", "2");
				svg.appendChild(line);
				y += 50;
			}

			// x axis ticks
			var x = 80;
			for(var i = 0; i < 20; i++) {
				var line = document.createElementNS("http://www.w3.org/2000/svg", "line");
				line.setAttribute("x1", x);
				line.setAttribute("y1", "526");
				line.setAttribute("x2", x);
				line.setAttribute("y2", "534");
				line.setAttribute("stroke", "black");
				line.setAttribute("stroke-width", "2");
				svg.appendChild(line);
				x += 50;
			}	
		}
	</script>
</head>
<body>
	<h1>Sensor Measurements</h1>
	<svg id="graph" width="1060" height="560" viewPort="0 0 1060 560" version="1.1" xmlns="http://www.w3.org/2000/svg">
		<text id="ylabel" x="-265" y="15" fill="black" transform="rotate(270 0,0)">Value</text>
		<line x1="30" y1="30" x2="30" y2="530" stroke="black" stroke-width="2" text="test"/>

		<line x1="30" y1="530" x2="1030" y2="530" stroke="black" stroke-width="2"/>
		<text id="xlabel" x="485" y="550" fill="black">Time (s)</text>
	</svg>
</body>
</html>